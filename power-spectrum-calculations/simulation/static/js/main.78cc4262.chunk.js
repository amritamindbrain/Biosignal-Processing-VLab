(this["webpackJsonpbiosignals-vlab"]=this["webpackJsonpbiosignals-vlab"]||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(9),i=a.n(s),l=(a(125),a(24)),j=a(8),o=a(26),d=a(29),h=(a(126),a(5)),b=a(14),u=a(215),m=a(23),O=a(64),p=a.n(O),x="./static/media/Amritalogo.74a0debe.png",f="./static/media/vlablogo2.00a678a6.jpg",g=b.LineChart,C=b.Line,v=(b.Cell,b.XAxis),w=b.YAxis,R=(b.CartesianGrid,b.Tooltip),_=b.Legend,F=b.ResponsiveContainer,q=a(146),y=a(147),S=a(148);var A=function(){var e=Object(r.useState)(0),t=Object(d.a)(e,2),a=(t[0],t[1],Object(r.useState)(0)),c=Object(d.a)(a,2),s=(c[0],c[1],Object(r.useState)({placeholder:{f:0,a:0},param_list:{data_generation:[[{sampleRate:"Sample Rate"},{duration:"Duration"}],[{amplitudes:"Amplitude"}],[{frequencies:"Frequencies"}]]},params:{n_channels:2,sampleRate:512,duration:5,amplitudes:[[8,4],[9,7]],frequencies:[[30,50],[80,30]],lowFreq:40,highFreq:50,filterOrder:128,wstart:2,wstop:4},data:[],raw_data:[],time:[],plot_data_psd:[]})),i=Object(d.a)(s,2),b=i[0],O=i[1],A=function(e,t){O(Object(j.a)(Object(j.a)({},b),{},{params:Object(j.a)(Object(j.a)({},b.params),{},Object(l.a)({},e,t))}))},E=(b.data,p()({count:b.params.n_channels,luminosity:"light",hue:"blue"}));return console.log(E),Object(n.jsxs)("div",{className:"App bp3-dark",style:{margin:"0 auto",width:"80%"},children:[Object(n.jsx)(u.f,{children:Object(n.jsx)(u.f.Heading,{align:m.a.LEFT,children:"Amrita Biosignal Simulator"})}),Object(n.jsxs)(u.b,{children:[Object(n.jsx)(h.Grid,{fluid:!0,children:Object(n.jsxs)(h.Row,{children:[Object(n.jsxs)(h.Col,{md:8,children:[Object(n.jsx)(F,{width:"100%",height:300,children:Object(n.jsxs)(g,{className:"time",width:500,height:300,data:b.data,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(v,{dataKey:"time"}),Object(n.jsx)(w,{}),Object(n.jsx)(R,{}),Object(n.jsx)(_,{}),q.range(b.params.n_channels).map((function(e,t){return Object(n.jsx)(C,{type:"monotone",dataKey:"signal-"+e,stroke:E[t],dot:!1})}))]},0)}),Object(n.jsx)(F,{width:"100%",height:300,children:Object(n.jsxs)(g,{className:"freq",width:500,height:300,data:b.plot_data_psd,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(v,{dataKey:"time"}),Object(n.jsx)(w,{}),Object(n.jsx)(R,{}),Object(n.jsx)(_,{}),q.range(b.params.n_channels).map((function(e,t){return Object(n.jsx)(C,{type:"monotone",dataKey:"signal-"+e,stroke:E[t],dot:!1})}))]},0)})]}),Object(n.jsxs)(h.Col,{md:4,children:[Object(n.jsxs)(u.b,{children:[Object(n.jsx)("h5",{children:"Run Control"}),Object(n.jsx)(u.c,{vertical:!0}),Object(n.jsx)(u.b,{children:Object(n.jsxs)(h.Grid,{fluid:!0,children:[Object(n.jsxs)(h.Row,{children:[Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.e,{children:"No. of Channels"})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.d,{fill:!1,small:!0,value:b.params.n_channels,onChange:function(e){return A("n_channels",e.target.value)}})})]}),Object(n.jsxs)(h.Row,{children:[Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.e,{children:"Sample Rate"})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.d,{fill:!1,small:!0,value:b.params.sampleRate,onChange:function(e){return A("sampleRate",e.target.value)}})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.e,{children:"Duration"})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.d,{fill:!1,small:!0,value:b.params.duration,onChange:function(e){return A("duration",e.target.value)}})})]}),Object(n.jsxs)(h.Row,{children:[Object(n.jsx)(h.Col,{md:6,children:Object(n.jsx)(u.g,{children:JSON.stringify(b.params.amplitudes)})}),Object(n.jsx)(h.Col,{md:6,children:Object(n.jsx)(u.g,{children:JSON.stringify(b.params.frequencies)})})]})]})})]}),Object(n.jsx)(u.c,{vertical:!0}),Object(n.jsxs)(u.b,{children:[Object(n.jsx)("h5",{children:"Filter"}),Object(n.jsx)(h.Grid,{fluid:!0,children:Object(n.jsxs)(h.Row,{children:[Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.e,{children:"LPass"})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.d,{small:!0,value:b.params.lowFreq,onChange:function(e){return A("lowFreq",e.target.value)}})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.e,{children:"HPass"})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.d,{small:!0,value:b.params.highFreq,onChange:function(e){return A("highFreq",e.target.value)}})})]})})]}),Object(n.jsx)(u.c,{vertical:!0}),Object(n.jsxs)(u.b,{children:[Object(n.jsx)("h5",{children:"Window Apply"}),Object(n.jsx)(h.Grid,{fluid:!0,children:Object(n.jsxs)(h.Row,{children:[Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.e,{children:"Start"})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.d,{small:!0,value:b.params.wstart,onChange:function(e){return A("wstart",e.target.value)}})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.e,{children:"Stop"})}),Object(n.jsx)(h.Col,{md:3,children:Object(n.jsx)(u.d,{small:!0,value:b.params.wstop,onChange:function(e){return A("wstop",e.target.value)}})})]})})]}),Object(n.jsx)(u.c,{vertical:!0}),Object(n.jsx)(u.a,{text:"Generate Data",onClick:function(){return function(){var e=b.params;if(console.log(e),e.n_channels>0){var t=q.range(e.n_channels).map((function(e){return[Math.floor(20*Math.random())+1,Math.floor(20*Math.random())+1]})),a=q.range(e.n_channels).map((function(e){return[Math.floor(200*Math.random())+1,Math.floor(200*Math.random())+1]})),n=q.range(e.n_channels).map((function(n,r){return S.generateSignal(t[r],a[r],e.sampleRate,e.duration)})),r=q.range(0,e.duration,e.duration/e.sampleRate),c=n,s=[];r.forEach((function(e,t){var a={};a.time=e,n.forEach((function(e,n){return a["signal-"+n]=e[t]})),s=[].concat(Object(o.a)(s),[a])})),O(Object(j.a)(Object(j.a)({},b),{},{params:Object(j.a)(Object(j.a)({},b.params),{},{amplitudes:t,frequencies:a}),data:s,raw_data:c,time:r}))}else O(Object(j.a)(Object(j.a)({},b),{},{data:[],time:[]}))}()}}),Object(n.jsx)(u.a,{text:"Apply Filter",onClick:function(){return function(){b.data;var e=b.params,t=b.raw_data,a=e.sampleRate,n=e.lowFreq,r=e.highFreq,c=e.filterOrder,s=(new y.FirCoeffs).bandpass({order:c,Fs:a,F1:n,F2:r}),i=new y.FirFilter(s),l=t.map((function(e){return i.simulate(e).slice(c)})),d=q.range(0,e.duration,e.duration/e.sampleRate),h=[];d.forEach((function(e,t){var a={};a.time=e,l.forEach((function(e,n){return a["signal-"+n]=e[t]})),h=[].concat(Object(o.a)(h),[a])})),O(Object(j.a)(Object(j.a)({},b),{},{data:h}))}()}}),Object(n.jsx)(u.a,{text:"Compute PSD",onClick:function(){return function(){var e=b.raw_data,t=[],a=[];e.forEach((function(e){var n=S.welch(e,b.params.sampleRate);t.push(n.estimates),a.push(n.frequencies)}));var n=[];a[0].forEach((function(e,a){var r={};r.freq=e,t.forEach((function(e,t){return r["signal-"+t]=e[a]})),n.push(r)})),O(Object(j.a)(Object(j.a)({},b),{},{plot_data_psd:n}))}()}}),Object(n.jsx)(u.a,{text:"Window Apply",onClick:function(){return function(e,t){var a=b.raw_data.map((function(a){return a.slice(e*b.params.sampleRate,t*b.params.sampleRate)}));console.log(b.raw_data),console.log(a);var n=q.range(0,a.length/b.params.sampleRate,a.length/b.params.sampleRate/b.params.sampleRate),r=[];n.forEach((function(e,t){var n={};n.time=e,a.forEach((function(e,a){return n["signal-"+a]=e[t]})),r=[].concat(Object(o.a)(r),[n])})),O(Object(j.a)(Object(j.a)({},b),{},{raw_data:a,data:r,time:n}))}(b.params.wstart,b.params.wstop)}})]})]})}),Object(n.jsx)("img",{style:{width:"200px",height:"50px",paddingRight:"10px"},src:x,alt:"Amrita"}),Object(n.jsx)("img",{style:{width:"200px",height:"50px"},src:f,alt:"Amrita"})]})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,216)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),E()}},[[210,1,2]]]);
//# sourceMappingURL=main.78cc4262.chunk.js.map